/*
 * 3 1 1 2
 *
 *
 */

#include <vector>
#include <iostream>
#include <set>
#include <map>
using namespace std;

void PrintVector(const vector<int>& v) {
	for (const auto& i : v) {
		cout << i << " ";
	}
}

void PrintGraph(const vector<vector<int>>& v) {
	for (int i = 0; i < v.size(); i++ ) {
		cout << "Node: " << i << " linked with nodes: ";
		PrintVector(v[i]);
		cout << endl;
	}
}

void PrintMap (const map<int, bool>& map) {
	for (const auto& i : map) {
		cout << i.first << "<" << i.second << "> ";
	}
}

void ReadGraph (vector<vector<int>>& graph, int num_links) {
	for (int i = 0; i < num_links; i++) {
		int node1;
		int node2;
		cin >> node1 >> node2;
		graph[node1 - 1].push_back(node2);
		graph[node2 - 1].push_back(node1);
	}
}

void EraseByValue (vector<int>& v, int value) {
	for (int i = 0; i < v.size(); i++) {
		if (v[i] == value) {
			v.erase(v.begin() + i);
			break;
		}
	}
}

void GetComponentNodes (map<int, bool>& component, const vector<vector<int>>& graph) { //По дефолту в сете одна точка,
																			 //первая из оставшихся в графе (в векторе номеров точек графа)
	bool ready = false;
	while (!ready) {
		map<int, bool> new_nodes;
		for (auto& node : component) {
			if (node.second == false) {
				for (const auto& link : graph[node.first]) {
					if (component.count(link) == 0) {
						new_nodes.insert({link, false});
					}
				}
				node.second = true;
			}
		}
		if (new_nodes.size() == 0) {
			ready = true;
		}
		component.insert(new_nodes.begin(), new_nodes.end());
	}

}

vector<vector<vector<int>>> GetConnectedComponents (const vector<vector<int>>& graph) {
	vector<vector<vector<int>>> connected_components;
	int comp_num = 0;
	vector<int> nodes_left(graph.size());
	for (int i = 0; i < graph.size(); i++) {
		nodes_left[i] = i;
	}


	while (nodes_left.size() > 0) {
		int node = nodes_left[0];

		for (const auto i : graph[node]) {
			connected_components[comp_num][node].push_back(i);
		}
		//nodes_left.erase(nodes_left.begin());



	}


	return connected_components;
}

vector<vector<int>> ReadInvertedGraph (int num_nods, int num_links) {
	vector<vector<int>> graph(num_nods);
	for (int i = 0; i < num_nods; i++) {
		for (int j = 0; j < num_nods; j++) {
			if (j != i) {
				graph[i].push_back(j);
			}
		}
	}
	for (int i = 0; i < num_links; i++) {
		int node1;
		int node2;
		cin >> node1 >> node2;
		EraseByValue(graph[node1 - 1], node2 - 1);
		EraseByValue(graph[node2 - 1], node1 - 1);
	}
	return graph;
}

int main() {
	int num_nods;
	int num_links;
	cin >> num_nods >> num_links;
	vector<vector<int>> graph(num_nods);
	graph = ReadInvertedGraph(num_nods, num_links);
	PrintGraph(graph);
	vector<int> part1;
	vector<int> part2;

	cout << endl;
	map<int, bool> component;
	component.insert({0,false});
	GetComponentNodes(component, graph);
	PrintMap(component);
	return 0;
}
